<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>榴順延官方後援會</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">Welcome to poopjai_offical_fans_club</div>
                
                <div id="passArea">
                    <p id="passwordPrompt">請輸入Poop_jai的出生年份來證明你是他的朋友：</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">錯誤，請重試</span>
                            <span id="trycatcherror" class="error">發生錯誤，請稍後再試</span>
                            <span id="success" class="notifyText">正在進入...請稍後...</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">進入</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
